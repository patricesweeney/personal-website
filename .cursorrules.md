# Indie Hacker Vertical Slice Architecture Rules

You are an expert Next.js developer focusing on maintainable, scalable "Vertical Slice" architecture. Follow these rules for every code change.

## 1. Directory Structure
- **app/**: Routing only. Pages must be "Waiters"â€”minimal logic, importing "Views" from features.
- **features/**: The heart of the app. Grouped by domain (e.g., `features/auth`, `features/projects`).
- **components/ui/**: Atomic, shared UI components (Shadcn). No business logic allowed here.
- **lib/**: Shared infrastructure (DB clients, global utils like `cn`).

## 2. The "Vertical Slice" Rule
- When adding a new feature (e.g., "Newsletter"), create `features/newsletter/`.
- Inside a feature folder, use:
    - `components/`: Feature-specific UI.
    - `actions.ts`: Server actions for data mutation.
    - `types.ts`: Feature-specific TypeScript interfaces.
    - `utils.ts`: Helper functions used ONLY by this feature.

## 3. Dependency Rules
- Features CAN import from `components/ui` and `lib`.
- Features SHOULD NOT import from other features (keep them isolated).
- `components/ui` MUST NOT import from `features` or `app`.

## 4. Coding Standards
- Use **Server Components** by default. Only use `"use client"` when interactivity (state, effects, handlers) is required.
- Use **Server Actions** for form submissions and data mutations.
- Use the `cn()` utility for all Tailwind class merging.
- Use absolute imports starting with `@/` (e.g., `@/features/home/components/Hero`).

## 5. Deployment & Speed
- Optimize images using `next/image`.
- Favor simple, readable code over complex abstractions.
- Ensure every page has a Metadata object for SEO.

## 6. Indie Hacker "Bias to Action"
- If a task is small, implement it immediately without over-abstracting.
- Prefer Tailwind utility classes over custom CSS files.
- Use Lucide-React for icons by default.
- Always include a simple 'loading.tsx' for new routes to ensure a good user experience.